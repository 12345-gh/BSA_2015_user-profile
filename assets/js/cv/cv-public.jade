script(type='text/ng-template', id='dropDownList.html').
    <a>
    <span bind-html-unsafe="match.label | typeaheadHighlight:query"></span>
    </a>

.container-fluid(ng-controller='CVPublicController')
    .row
        div.col-sm-12.v-center
            h4 Technologies
        div.col-sm-12.voffset3
            | Sort by knowledge level:
            rating(ng-model='knowledge' max='5' readonly='isReadonly' on-hover='hoveringOver(value)' on-leave='overStar = null')
            ul.technologies-list.voffset3
                li.categories(ng-repeat='tech in userTechnologies | unique')
                    span.category-name
                        | {{tech.category.name}}:
                    button(ng-repeat='tech in userTechnologies | filter: {category: {id: tech.category.id}} | rating: knowledge',
                        class = 'stars stars-{{tech.stars}}', ng-click='showRating = !showRating')
                        | {{tech.name}}
                        rating(ng-model='tech.stars' max='5' readonly='true' on-hover='hoveringOver(value)' on-leave='overStar = null', ng-show='showRating')
    .row
        div.col-sm-12.v-center
            h4 Projects
        div.col-sm-12.voffset3
            .panel.panel-default.project(ng-repeat='project in userProjects')
                .panel-heading.project-header(ng-click='isCollapsed = !isCollapsed')
                    b {{project.name}}
                .panel-body(collapse='project.current ? !isCollapsed : isCollapsed')
                    .row
                        div.col-sm-3.project-label
                            | Start date:
                        div.col-sm-9
                            | {{project.startDate | date:'dd/MM/yyyy'}}
                    .row.voffset3(ng-repeat='tech in project.technologies | unique')
                        div.col-sm-3.project-label
                            | {{tech.category.name}}:
                        div.col-sm-9
                            button.stars-4(ng-repeat = 'tech in project.technologies | filter: {category: {id: tech.category.id}}') {{tech.name}}
                    .row.voffset3
                        div.col-sm-3.project-label
                            | Description:
                        div.col-sm-9
                            | {{project.description}}
                    .row.voffset3
                        div.col-sm-12.project-label(ng-show='project.participants.length')
                            | Team members:
                        div.col-md-6.col-sm-6.clearfix.voffset2(ng-repeat="participant in project.participants")
                            a.participant-photo(href="#", ng-click="findUser($event, participant.id)")
                                div.participant-photo-wrap
                                    img.img-responsive(ng-src="{{participant.avatar.urlAva}}")
                            span
                                strong
                                    a(href="#", ng-click="findUser($event, participant.id)") {{participant.name}} {{participant.surname}}
                            p.participant-role {{participant.role}}
                    .row.voffset3
                        div.col-sm-12.project-label(ng-show='project.screenshots.length')
                            | Screenshots:
                        div.col-sm-4(ng-repeat='screenshot in project.screenshots')
                            img.img-responsive(ng-src='{{screenshot.img}}')
